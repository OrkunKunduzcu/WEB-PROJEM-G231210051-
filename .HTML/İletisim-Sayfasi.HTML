<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İletişim - Orkun Kunduzcu</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script> </head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="Hakkimda.HTML">Hakkımda</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Oz-Gecmis.HTML">Özgeçmiş</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Memleketim.HTML">Memleketim</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="ilgi-alanlarim.HTML">İlgi Alanlarım</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Mirasimiz.HTML">Mirasımız</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="İletisim-Sayfasi.HTML">İletişim</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div id="contactApp" class="container my-5"> <h2>İletişim Formu</h2>
        <form id="iletisimFormu" action="İletisim-Cikti.php" method="POST"> <div class="mb-3">
                <label for="adSoyad" class="form-label">Adınız Soyadınız:</label>
                <input type="text" class="form-control" id="adSoyad" name="adSoyad" v-model="formVeri.adSoyad">
            </div>

            <div class="mb-3">
                <label for="email" class="form-label">E-posta Adresiniz:</label>
                <input type="text" class="form-control" id="email" name="email" v-model="formVeri.email"> </div>

            <div class="mb-3">
                <label for="telefon" class="form-label">Telefon Numaranız:</label>
                <input type="text" class="form-control" id="telefon" name="telefon" v-model="formVeri.telefon"> </div>

            <div class="mb-3">
                <label class="form-label">Cinsiyetiniz:</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="cinsiyet" id="erkek" value="Erkek" v-model="formVeri.cinsiyet">
                    <label class="form-check-label" for="erkek">Erkek</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="cinsiyet" id="kadin" value="Kadın" v-model="formVeri.cinsiyet">
                    <label class="form-check-label" for="kadin">Kadın</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="cinsiyet" id="belirtmekIstemiyorum" value="Belirtmek İstemiyorum" v-model="formVeri.cinsiyet" checked>
                    <label class="form-check-label" for="belirtmekIstemiyorum">Belirtmek İstemiyorum</label>
                </div>
            </div>

            <div class="mb-3">
                <label for="konu" class="form-label">Konu:</label>
                <select class="form-select" id="konu" name="konu" v-model="formVeri.konu">
                    <option value="" disabled selected>Lütfen bir konu seçiniz...</option>
                    <option value="Geri Bildirim">Geri Bildirim</option>
                    <option value="Soru">Soru</option>
                    <option value="İş Birliği">İş Birliği</option>
                    <option value="Diğer">Diğer</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="mesaj" class="form-label">Mesajınız:</label>
                <textarea class="form-control" id="mesaj" name="mesaj" rows="4" v-model="formVeri.mesaj"></textarea>
            </div>

            <div class="mb-3">
                <label for="ekDosya" class="form-label">Ek Dosya (Opsiyonel):</label>
                <input class="form-control" type="file" id="ekDosya" name="ekDosya">
                </div>

            <div class="mb-3">
                <label for="yas" class="form-label">Yaşınız (Opsiyonel):</label>
                <input type="number" class="form-control" id="yas" name="yas" min="10" max="100" v-model.number="formVeri.yas">
            </div>

            <div class="mb-3">
                <label for="website" class="form-label">Web Siteniz (Opsiyonel):</label>
                <input type="url" class="form-control" id="website" name="website" placeholder="https://ornek.com" v-model="formVeri.website">
            </div>
            
            <div class="mb-3">
                <label for="dogumTarihi" class="form-label">Doğum Tarihiniz (Opsiyonel):</label>
                <input type="date" class="form-control" id="dogumTarihi" name="dogumTarihi" v-model="formVeri.dogumTarihi">
            </div>

            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="sartlarKabul" name="sartlarKabul" v-model="formVeri.sartlarKabul">
                <label class="form-check-label" for="sartlarKabul">Kullanım şartlarını okudum ve kabul ediyorum.</label>
            </div>

            <div v-if="hatalar.length" class="alert alert-danger">
                <b>Lütfen aşağıdaki hataları düzeltin:</b>
                <ul>
                    <li v-for="hata in hatalar">{{ hata }}</li>
                </ul>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                <button type="button" class="btn btn-success me-md-2" @click="formuDogrulaVueVeGonder">Gönder (Vue.js ile Doğrula)</button>
                <button type="button" class="btn btn-info me-md-2" onclick="formuDogrulaJSVeGonder()">Gönder (JS ile Doğrula)</button>
                <button type="reset" class="btn btn-warning" @click="formuTemizle">Temizle</button>
            </div>
        </form>
    </div>

    <script>
        const contactApp = new Vue({
            el: '#contactApp',
            data: {
                formVeri: {
                    adSoyad: '',
                    email: '',
                    telefon: '',
                    cinsiyet: 'Belirtmek İstemiyorum',
                    konu: '',
                    mesaj: '',
                    yas: null,
                    website: '',
                    dogumTarihi: '',
                    sartlarKabul: false
                },
                hatalar: []
            },
            methods: {
                formuTemizle() {
                    this.formVeri = {
                        adSoyad: '',
                        email: '',
                        telefon: '',
                        cinsiyet: 'Belirtmek İstemiyorum',
                        konu: '',
                        mesaj: '',
                        yas: null,
                        website: '',
                        dogumTarihi: '',
                        sartlarKabul: false
                    };
                    this.hatalar = [];
                    document.getElementById('iletisimFormu').reset();
                },
                formuDogrulaVueVeGonder() {
                    this.hatalar = [];

                    if (!this.formVeri.adSoyad) {
                        this.hatalar.push('Ad Soyad alanı boş bırakılamaz.');
                    }

                    if (!this.formVeri.email) {
                        this.hatalar.push('E-posta alanı boş bırakılamaz.');
                    } else if (!this.gecerliEmail(this.formVeri.email)) {
                        this.hatalar.push('Geçerli bir e-posta adresi giriniz.');
                    }

                    if (this.formVeri.telefon && !/^\d+$/.test(this.formVeri.telefon)) {
                        this.hatalar.push('Telefon numarası sadece rakamlardan oluşmalıdır.');
                    }
                    
                    if (!this.formVeri.konu) {
                        this.hatalar.push('Lütfen bir konu seçiniz.');
                    }

                    if (!this.formVeri.mesaj) {
                        this.hatalar.push('Mesaj alanı boş bırakılamaz.');
                    } else if (this.formVeri.mesaj.length < 10) {
                        this.hatalar.push('Mesajınız en az 10 karakter olmalıdır.');
                    }
                    
                    if (!this.formVeri.sartlarKabul) {
                        this.hatalar.push('Kullanım şartlarını kabul etmelisiniz.');
                    }

                    if (this.hatalar.length === 0) {
                        alert('Vue.js ile doğrulama başarılı! Form gönderiliyor...');
                        document.getElementById('iletisimFormu').submit();
                    }
                },
                gecerliEmail(email) {
                    const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                    return re.test(String(email).toLowerCase());
                }
            }
        });

        function formuDogrulaJSVeGonder() {
            const hatalarJS = [];
            const form = document.getElementById('iletisimFormu');
            const adSoyad = form.elements['adSoyad'].value;
            const email = form.elements['email'].value;
            const telefon = form.elements['telefon'].value;
            const konu = form.elements['konu'].value;
            const mesaj = form.elements['mesaj'].value;
            const sartlarKabul = form.elements['sartlarKabul'].checked;

            if (!adSoyad) {
                hatalarJS.push('Ad Soyad alanı boş bırakılamaz.');
            }

            if (!email) {
                hatalarJS.push('E-posta alanı boş bırakılamaz.');
            } else {
                const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                if(!re.test(String(email).toLowerCase())) {
                    hatalarJS.push('Geçerli bir e-posta adresi giriniz.');
                }
            }
            
            if (telefon && !/^\d+$/.test(telefon)) {
                hatalarJS.push('Telefon numarası sadece rakamlardan oluşmalıdır.');
            }

            if (!konu) {
                hatalarJS.push('Lütfen bir konu seçiniz.');
            }

            if (!mesaj) {
                hatalarJS.push('Mesaj alanı boş bırakılamaz.');
            } else if (mesaj.length < 10) {
                hatalarJS.push('Mesajınız en az 10 karakter olmalıdır.');
            }

            if (!sartlarKabul) {
                hatalarJS.push('Kullanım şartlarını kabul etmelisiniz.');
            }

            const hataMesajAlani = contactApp.hatalar;
            contactApp.hatalar = hatalarJS;

            if (hatalarJS.length === 0) {
                alert('JavaScript ile doğrulama başarılı! Form gönderiliyor...');
                form.submit();
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>